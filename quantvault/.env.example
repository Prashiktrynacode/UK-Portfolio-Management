# QuantVault Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# DATABASE (Supabase or Neon PostgreSQL)
# ============================================

# Get this from your Supabase project settings > Database > Connection string
# Transaction pooler (port 6543) for app queries
DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"
# Session pooler (port 5432) for migrations
DIRECT_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres"

# ============================================
# SUPABASE AUTHENTICATION
# ============================================

# From Supabase project settings > API
SUPABASE_URL="https://[project-ref].supabase.co"
SUPABASE_ANON_KEY="your-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# Public key for frontend (safe to expose)
NEXT_PUBLIC_SUPABASE_URL="https://[project-ref].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-supabase-anon-key"

# ============================================
# API CONFIGURATION
# ============================================

# Backend API URL (update after deploying to Render)
NEXT_PUBLIC_API_URL="http://localhost:4000/api/v1"

# For production (after Render deployment):
# NEXT_PUBLIC_API_URL="https://your-app.onrender.com/api/v1"

# API server settings
PORT=4000
HOST=0.0.0.0
NODE_ENV=development
LOG_LEVEL=info

# Frontend URL for CORS (update after deploying to Vercel)
FRONTEND_URL="http://localhost:3000"

# For production (after Vercel deployment):
# FRONTEND_URL="https://your-app.vercel.app"

# ============================================
# OPTIONAL: MARKET DATA APIS
# ============================================

# Alpha Vantage (free tier: 5 calls/min, 500/day)
# Get key at: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=""

# Polygon.io (free tier: 5 calls/min)
# Get key at: https://polygon.io/
POLYGON_API_KEY=""

# Yahoo Finance (unofficial, no key needed but rate limited)
# This is used as fallback

# ============================================
# OPTIONAL: REDIS (for caching, if needed)
# ============================================

# REDIS_URL="redis://localhost:6379"

# ============================================
# SECURITY
# ============================================

# JWT secret for additional API security (generate a random string)
API_SECRET="your-random-secret-key-minimum-32-characters"

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW="1 minute"
